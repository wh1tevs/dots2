# vim: ft=sh
source "$HOME/.profile"

ZAP_HOME="${XDG_DATA_HOME:-$HOME/.local/share}/zap"

if [ ! -f "$ZAP_HOME/zap.zsh" ]; then
  zsh <(curl -s https://raw.githubusercontent.com/zap-zsh/zap/master/install.zsh) --branch release-v1 --keep
fi

source "$ZAP_HOME/zap.zsh"

plug "zsh-users/zsh-autosuggestions"
plug "zsh-users/zsh-syntax-highlighting"
plug "zap-zsh/completions"
plug "embeddedpenguin/sanekeybinds"

HISTSIZE=1000
SAVEHIST=1000
HISTFILE="$HOME/.cache/zsh_history"

setopt INC_APPEND_HISTORY SHARE_HISTORY
setopt autocd correct extended_glob no_beep

if [ ! -f "$HOME/.local/bin/oh-my-posh" ]; then
  curl -s https://ohmyposh.dev/install.sh | bash -s -- -d ~/.local/bin
fi

eval "$(oh-my-posh init zsh --config ~/.config/oh-my-posh/themes/my-minimal.omp.yaml)"

bindkey -v # vim mode

# aliases

export LS_OPTIONS="--color=auto --group-directories-first"

alias ls="/bin/ls -ghAG $LS_OPTIONS"
alias lsl="/bin/ls -hlA $LS_OPTIONS"

if [[ ! -f "/bin/hx" && -f "/bin/helix" ]]; then
    alias hx="/bin/helix"
fi
